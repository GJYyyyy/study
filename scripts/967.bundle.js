(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[967],{5655:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>c});var o=n(6738),a=n.n(o),i=n(7705),s=n.n(i)()(a());s.push([t.id,"\n.container[data-v-583219c4] {\n    padding: 16px;\n}\n.container > .title[data-v-583219c4] {\n    text-align: center;\n}\n.container > .describ[data-v-583219c4] {\n    font-size: 12px;\n    color: var(--gray-3);\n}\n.container > .describ > span[data-v-583219c4] {\n    max-width: 50%;\n}\n.container .cate-title[data-v-583219c4] {\n    text-decoration: underline;\n    cursor: pointer;\n}\n.container .actions[data-v-583219c4] {\n    margin-top: 8px;\n}\n.container > .actions[data-v-583219c4] .van-icon {\n    margin-left: 11px;\n}\n",""]);const c=s},7967:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>p});var o=function(){var t=this,e=t._self._c;return e("div",[t.knowledge.title?e("div",{staticClass:"container"},[e("h4",{staticClass:"title"},[t._v(t._s(t.knowledge.title))]),t._v(" "),e("div",{staticClass:"describ row-between rol-center"},[e("span",{staticClass:"cate-title",on:{click:t.onCateKeyClick}},[t._v(t._s(t.cateTitle))]),t._v(" "),e("span",[t._v(t._s(t.knowledge.update_date_str))])]),t._v(" "),e("div",{staticClass:"direction-right col-center actions"},[e("van-icon",{attrs:{name:"label",color:t.collectionColor},on:{click:t.onCollection}}),t._v(" "),e("van-icon",{ref:"copybtn",staticClass:"copybtn",attrs:{name:"records",color:"var(--blue)"},on:{click:t.onCopyLink}}),t._v(" "),e("van-icon",{attrs:{name:"edit",color:"var(--blue)"},on:{click:t.onEdit}})],1),t._v(" "),e("van-divider"),t._v(" "),e("custome-markdown-editor",{attrs:{readonly:!0,value:t.knowledge.content}})],1):e("van-empty",{attrs:{description:"没有内容"}})],1)};o._withStripped=!0;var a=n(3308),i=n(1241),s=n(6064),c=n(3150),l=n.n(c);const d="knowledge_catalog_id",r="knowledge_collection_id",u={components:{"custome-markdown-editor":s.NW},data:()=>({knowledge:{},cateTitle:"",[d]:""}),computed:{id(){return this.$route.query.id},collectionColor(){return this.knowledge[r]?"var(--green)":"var(--gray-3)"}},async mounted(){this.init()},methods:{async init(){let t;(0,i.QP)();try{t=await a.Z.detailKnowledge(this.id)}catch(t){(0,i.Zk)()}if(t.data){let e,n={...t.data};n.content=decodeURIComponent(n.content),n.update_date_str=(0,i.Bv)(n.update_date).format("YYYY-MM-DD HH:mm:ss"),this.knowledge=n;try{e=await a.Z.detailKnowledgeCatalog(n[d],{fields:["title",d]})}catch(t){(0,i.Zk)()}this.cateTitle=e.data.title,this[d]=e.data[d]}(0,i.Zk)()},onCateKeyClick(){this.$router.push({path:"/listKnowledgeCatalog",query:{expand_cate_id:this[d]}})},async onCollection(){(0,i.QP)(),this.knowledge[r]?(await a.Z.deleteKnowledgeCollection([this.knowledge[r]]),this.$toast.success("取消收藏成功"),this.init()):(await a.Z.addKnowledgeCollection({knowledge_id:this.knowledge.knowledge_id}),this.$toast.success("收藏成功"),this.init()),(0,i.Zk)()},onEdit(){this.$router.push({path:"/updateKnowledge",query:{id:this.knowledge.knowledge_id}})},onCopyLink(){this.$refs.copybtn.setAttribute("data-clipboard-text",window.location.pathname+window.location.hash);let t=new(l())(".copybtn");t.on("success",(e=>{this.$toast.success("复制地址成功"),t.destroy()})),t.on("error",(e=>{console.error(e),this.$toast.error(`复制地址失败：${e.name}：${e.message}`),t.destroy()}))}}};n(6869);const p=(0,n(1900).Z)(u,o,[],!1,null,"583219c4",null).exports},6869:(t,e,n)=>{var o=n(5655);o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[t.id,o,""]]),o.locals&&(t.exports=o.locals);var a=(0,n(4023).Z)("33120320",o,!1,{});o.locals||t.hot.accept(5655,(function(){var e=n(5655);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.id,e,""]]),a(e)})),t.hot.dispose((function(){a()}))}}]);