(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[356],{8271:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>i});var n=a(6738),s=a.n(n),o=a(7705),l=a.n(o)()(s());l.push([t.id,"\n.major .field-left[data-v-1bcc887c] {\n    width: calc(100% - 30px);\n}\n.major .field-right[data-v-1bcc887c] {\n    width: 30px;\n    border-left: 1px solid #ebedf0;\n}\n.major .btn-set[data-v-1bcc887c] {\n    margin: 16px;\n}\n.major .btn-set[data-v-1bcc887c] .van-button {\n    width: calc(50% - 16px);\n}\n",""]);const i=l},5356:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>i});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"major"},[e("van-form",{on:{submit:t.onSubmit}},[t._l(t.formData,(function(a,n){return e("div",{key:n,staticClass:"row-between"},[e("div",{staticClass:"field-left"},[e("van-field",{attrs:{name:"专业",label:"专业",placeholder:"专业",rules:[{required:!0,message:"请填写专业"}]},model:{value:a.title,callback:function(e){t.$set(a,"title",e)},expression:"v.title"}}),t._v(" "),e("van-field",{attrs:{name:"专业代号",label:"专业代号",placeholder:"专业代号"},model:{value:a.code,callback:function(e){t.$set(a,"code",e)},expression:"v.code"}})],1),t._v(" "),e("div",{staticClass:"full-center field-right"},[n>0?e("van-icon",{attrs:{name:"cross",color:"var(--red)"},on:{click:function(e){return t.onRemoveFieldSet(n)}}}):t._e()],1)])})),t._v(" "),e("div",{staticClass:"row-between btn-set"},[e("van-button",{attrs:{round:"",type:"primary",size:"small","native-type":"button"},on:{click:t.onAddFieldSet}},[t._v("新增")]),t._v(" "),e("van-button",{attrs:{round:"",type:"info",size:"small","native-type":"submit"}},[t._v("提交")])],1)],2)],1)};n._withStripped=!0;var s=a(3308),o=a(1241);const l={data:()=>({formData:[{title:"",code:""}]}),methods:{onSubmit(){let t=[...this.formData];(0,o.QP)(),1===t.length?s.Z.addMajor((0,o.mG)(t[0])).then((()=>{(0,o.Zk)(),this.$toast.success({message:"添加成功",onClose:()=>this.$router.back()})}),(()=>(0,o.Zk)())):(t=t.map((t=>(0,o.mG)(t))),s.Z.addBatchMajor(t).then((()=>{(0,o.Zk)(),this.$toast.success({message:"添加成功",onClose:()=>this.$router.back()})}),(()=>(0,o.Zk)())))},onAddFieldSet(){this.formData.push({title:"",code:""})},onRemoveFieldSet(t){this.formData.splice(t,1)}}};a(6360);const i=(0,a(1900).Z)(l,n,[],!1,null,"1bcc887c",null).exports},6360:(t,e,a)=>{var n=a(8271);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=(0,a(4023).Z)("d613fb8e",n,!1,{});n.locals||t.hot.accept(8271,(function(){var e=a(8271);e.__esModule&&(e=e.default),"string"==typeof e&&(e=[[t.id,e,""]]),s(e)})),t.hot.dispose((function(){s()}))}}]);