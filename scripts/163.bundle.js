"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[163],{6163:(t,s,i)=>{i.r(s),i.d(s,{default:()=>n});var e=function(){var t=this,s=t._self._c;return s("div",[s("custom-list",{attrs:{list:t.list,finished:t.finished,"detail-path":"/detailKnowledge"},on:{delete:t.onDelete,refresh:t.onPullRefresh,load:t.onListLoad}})],1)};e._withStripped=!0;var l=i(3671),a=i(2996);const h={components:{"custom-list":l.SP},data:()=>({list:[],listParams:{keyword:"",pageSize:15,last:void 0},finished:!1}),async mounted(){this.init()},methods:{async getList(){return await a.Z.listKnowledgeCollection(this.listParams)},async setList(){let t=await this.getList(),{listParams:s}=this;s.last=t.last,this.listParams={...s},this.list=this.formatterList(t.list),t.last||(this.finished=!0)},init(){let{listParams:t}=this;t.keyword="",t.last=void 0,this.listParams={...t},this.list=[],this.finished=!1,this.setList()},formatterList:t=>t?.map((t=>({...t,title:t.knowledge_title,id:t.knowledge_collection_id}))),onPullRefresh(){let{listParams:t}=this;t.last=void 0,this.listParams={...t},this.finished=!1,this.list=[],this.setList()},onSearch(t){let{listParams:s}=this;s.last=void 0,s.keyword=t,this.listParams={...s},this.finished=!1,this.list=[],this.setList()},async onListLoad(){let t=await this.getList(),{listParams:s}=this;s.last=t.last,this.listParams={...s},this.list=this.list.concat(this.formatterList(t.list)),t.last||(this.finished=!0)},async onDelete(t){await a.Z.deleteKnowledgeCollection([t]),this.$toast.success("取消收藏成功"),this.init()}}},n=(0,i(1900).Z)(h,e,[],!1,null,null,null).exports}}]);